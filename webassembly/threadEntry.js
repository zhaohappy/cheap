var __CHeap_ThreadEntry__;(()=>{"use strict";var e={d:(r,t)=>{for(var n in t)e.o(t,n)&&!e.o(r,n)&&Object.defineProperty(r,n,{enumerable:!0,get:t[n]})},o:(e,r)=>Object.prototype.hasOwnProperty.call(e,r),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},r={};function t(){let e;"object"==typeof __WebAssemblyRunner__?e=__WebAssemblyRunner__.__WebAssemblyRunner__:"object"==typeof __CHeap_WebAssemblyRunner__&&(e=__CHeap_WebAssemblyRunner__.default);let r,t,n=self,a=0;n.onmessage=s=>{const o=s.data,_=o.type,i=o.data;switch(_){case"run":n.postMessage({type:"run"}),self.CHeap&&self.CHeap.initThread&&self.CHeap.initThread(i.cheap).then((()=>{self.__SELF_THREAD__=i.runner.thread,i.runner.options.imports=self.imports,r=new e(i.runner.resource,i.runner.options),r.runAsChild(),e.getTable().get(i.runner.func)(i.runner.args),r.destroy()}));break;case"ready":t=i.runner,a=i.cheap.stackPointer,self.CHeap&&self.CHeap.initThread&&self.CHeap.initThread(i.cheap).then((()=>{n.postMessage({type:"ready"})}));break;case"wait":{async function p(){for(;;){for(e.mutexLock(a+16);0===e.readPointer(a);)e.condWait(a+12,a+16);self.__SELF_THREAD__=e.readPointer(a),t.options.thread=e.readPointer(a),t.thread=e.readPointer(a),t.func=e.readPointer(a+4),t.args=e.readPointer(a+8),r=new e(t.resource,t.options),r.runAsChild(),e.getTable().get(t.func)(t.args),r.destroy(),e.writePointer(a,0),e.mutexUnlock(a+16)}}t.options.imports=self.imports,p();break}case"import":importScripts(i.url),e=__CHeap_WebAssemblyRunner__.default}}}e.r(r),e.d(r,{default:()=>t}),t(),__CHeap_ThreadEntry__=r})();